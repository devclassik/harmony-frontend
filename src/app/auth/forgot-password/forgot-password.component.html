<div
  class="flex flex-wrap justify-center items-center min-h-screen bg-gray-100 px-4"
>
  <div
    class="flex flex-col justify-center items-center w-full lg:w-1/2 py-8 px-6 lg:p-32"
  >
    <div class="w-full px-4 mb-10">
      <img
        src="/assets/images/harmonyLogo.png"
        alt="Harmony Logo"
        class="h-14 object-contain"
      />
    </div>

    <div class="w-full text-center lg:text-left px-4">
      <h3 class="text-2xl lg:text-3xl font-semibold">Forgot password</h3>
      <p class="text-gray-600 pt-2">
        To recover your account, please enter your email address.
      </p>
    </div>

    <div class="w-full p-4">
      <form (ngSubmit)="onSubmit()" class="forgot-form space-y-4">
        <div>
          <label for="email" class="block text-gray-800 text-sm">Email</label>
          <input
            id="email"
            type="email"
            [(ngModel)]="email"
            name="email"
            required
            class="w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"
            placeholder="Enter your email address"
          />
        </div>

        <button
          type="submit"
          [disabled]="isLoading"
          class="w-full text-white py-2 rounded-md shadow-md bg-gradient-to-r from-green-500 to-green-700 hover:from-green-600 hover:to-green-800 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200"
        >
          <span *ngIf="!isLoading">Continue</span>
          <span *ngIf="isLoading">Sending Reset Code...</span>
        </button>
      </form>
    </div>

    <div class="text-center">
      <p class="pt-5" (click)="backToLogin()">
        Remember your password?
        <span class="text-green-500 cursor-pointer">Back to Login</span>
      </p>
    </div>
  </div>

  <div class="hidden sm:block sm:w-full lg:w-1/2 relative px-5">
    <app-login-caption
      [slides]="[
        {
          title: 'Secure your account with a strong password',
          description:
            'Choose a strong password to keep your Harmony account secure.',
          tag: 'Security',
          bgImage: '/assets/svg/logincaption.svg',
          overlayImage: '/assets/images/ydd-logo.png'
        },
        {
          title: 'Stay Updated',
          description: 'Enable notifications to never miss updates.',
          tag: 'Updates',
        },
        {
          title: ' Create your administrator account to manage HR processes and employees',
          description: ' As an administrator, you\'ll have full access to manage employees, process leave requests, handle payroll, and oversee all HR operations.',
          tag: 'Managing',
        }
      ]"
    ></app-login-caption>
  </div>

  <!-- OTP Modal -->
  <app-custom-modal
    *ngIf="showOtpModal"
    [title]="'Password Reset Verification'"
    [text]="modalText"
    [showOtp]="true"
    [buttonText]="isLoading ? 'Verifying...' : 'Verify Code'"
    [subText]="'Didn\'t receive the code? Resend'"
    [isLoading]="isLoading"
    (onClose)="closeModal()"
    (onSubmit)="handleOtpSubmit($event)"
    (resend)="handleResendOtp()"
  ></app-custom-modal>

  <!-- Loading Overlay -->
  <app-loading-overlay
    [isVisible]="isLoading && !showOtpModal"
    [title]="getLoadingMessage().title"
    [message]="getLoadingMessage().message"
  ></app-loading-overlay>

  <!-- OTP Verification Loading Overlay -->
  <app-loading-overlay
    [isVisible]="isLoading && showOtpModal"
    [title]="getLoadingMessage().title"
    [message]="getLoadingMessage().message"
  ></app-loading-overlay>
</div>
