<div class="p-6">
  <!-- Tab Navigation -->
  <div class="mb-6">
    <div class="flex items-center gap-8">
      <button
        [class]="
          activeTab === 'documents'
            ? 'text-[#12C16F] border-b-2 border-[#12C16F] pb-2 cursor-pointer'
            : 'text-gray-500 pb-2 cursor-pointer'
        "
        class="flex items-center gap-2 text-sm font-medium transition-colors"
        (click)="switchToDocuments()"
      >
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path
            d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"
          />
        </svg>
        Documents
      </button>
      <button
        [class]="
          activeTab === 'training'
            ? 'text-[#12C16F] border-b-2 border-[#12C16F] pb-2 cursor-pointer'
            : 'text-gray-500 pb-2 cursor-pointer'
        "
        class="flex items-center gap-2 text-sm font-medium transition-colors"
        (click)="switchToTraining()"
      >
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path
            d="M12,3L1,9L12,15L21,10.09V17H23V9M5,13.18V17.18L12,21L19,17.18V13.18L12,17L5,13.18Z"
          />
        </svg>
        Training
      </button>
    </div>
  </div>
  <!-- Divider Line -->
  <div class="border-b border-gray-200 mb-8"></div>

  <!-- Header with controls -->
  <div class="flex items-center justify-between mb-6">
    <div>
      <h2 class="text-sm font-normal mb-1">
        Showing All {{ getCurrentTabTitle() }} ({{ getCurrentDataCount() }})
      </h2>
    </div>

    <div class="flex items-center gap-4">
      <!-- Search -->
      <div class="relative">
        <input
          type="text"
          placeholder="Search"
          [value]="searchValue"
          (input)="onSearch($any($event.target).value)"
          class="pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#12C16F] focus:border-transparent w-64"
        />
        <svg
          class="absolute left-3 top-3 w-4 h-4 text-gray-400"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
          ></path>
        </svg>
      </div>

      <!-- Filter Dropdown -->
      <div class="relative">
        <button
          (click)="toggleFilterDropdown()"
          class="flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50"
        >
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <polygon
              points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"
            ></polygon>
          </svg>
          <span class="text-sm">Filter</span>
          <svg
            width="12"
            height="12"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <polyline points="6 9 12 15 18 9"></polyline>
          </svg>
        </button>

        <!-- Filter Dropdown Menu -->
        <div
          *ngIf="showFilterDropdown"
          class="absolute top-full left-0 mt-2 bg-white shadow-lg rounded-lg border border-gray-200 py-2 min-w-[120px] z-10"
        >
          <button
            *ngFor="let tab of filterTabs"
            [class]="
              selectedFilter === tab.value
                ? 'bg-[#12C16F] text-white'
                : 'text-gray-700 hover:bg-gray-100'
            "
            class="w-full text-left px-4 py-2 text-sm transition-colors"
            (click)="onFilterTabChange(tab.value); toggleFilterDropdown()"
          >
            {{ tab.label }}
          </button>
        </div>
      </div>

      <!-- View Toggle -->
      <div class="flex items-center bg-gray-100 rounded-lg p-1">
        <button
          [class]="currentView === 'table' ? 'bg-white shadow-sm' : ''"
          class="p-2 rounded-md transition-all"
          (click)="switchToTableView()"
        >
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path d="M3 3h7v7H3zM14 3h7v7h-7zM14 14h7v7h-7zM3 14h7v7H3z"></path>
          </svg>
        </button>
        <button
          [class]="currentView === 'card' ? 'bg-white shadow-sm' : ''"
          class="p-2 rounded-md transition-all"
          (click)="switchToCardView()"
        >
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <line x1="8" y1="6" x2="21" y2="6"></line>
            <line x1="8" y1="12" x2="21" y2="12"></line>
            <line x1="8" y1="18" x2="21" y2="18"></line>
            <line x1="3" y1="6" x2="3.01" y2="6"></line>
            <line x1="3" y1="12" x2="3.01" y2="12"></line>
            <line x1="3" y1="18" x2="3.01" y2="18"></line>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Table View using Table Component -->
  <div *ngIf="currentView === 'table'">
    <app-table
      [tableHeader]="tableHeader"
      [tableData]="paginatedEmployees"
      [menuItems]="actionButton"
      [showFilter]="false"
      [showSearch]="false"
      [showPagination]="true"
      [showViewAll]="false"
      [currentPage]="currentPage"
      [totalPages]="totalPages"
      [currentView]="'table'"
      (menuAction)="onMenuAction($event)"
      (pageChange)="onPageChange($event)"
    ></app-table>
  </div>

  <!-- Card View using Table Component -->
  <div *ngIf="currentView === 'card'">
    <app-table
      [tableHeader]="tableHeader"
      [tableData]="paginatedEmployees"
      [menuItems]="actionButton"
      [showFilter]="false"
      [showSearch]="false"
      [showPagination]="true"
      [showViewAll]="false"
      [currentPage]="currentPage"
      [totalPages]="totalPages"
      [currentView]="'card'"
      (menuAction)="onMenuAction($event)"
      (pageChange)="onPageChange($event)"
    ></app-table>
  </div>
</div>

<!-- Document Viewer Modal - Only modal needed for document/file component -->
<app-document-viewer
  [isVisible]="showDocumentViewer"
  [document]="selectedDocument"
  (close)="onDocumentViewerClose()"
  (download)="onDocumentViewerDownload($event)"
></app-document-viewer>
