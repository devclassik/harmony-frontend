<div class="p-2">
  <app-table
    [tableTitle]="'Employee Records'"
    [viewAllLink]="'employee-records'"
    [tableData]="employees"
    [showViewAll]="false"
    [showFilter]="true"
    [showStatusTab]="true"
    [statusTabs]="statusTabs"
    [activeStatusTab]="selectedStatus"
    (statusTabChange)="onStatusTabChange($event)"
    [filterTabs]="filterTabs"
    [activeFilterTab]="selectedFilter"
    (filterTabChange)="onFilterTabChange($event)"
    [searchValue]="searchValue"
    (search)="onSearch($event)"
    [tableData]="filteredEmployees"
    [menuItems]="actionButton"
    (menuAction)="onMenuAction($event)"
    [showPagination]="true"
    [currentPage]="currentPage"
    [totalPages]="totalPages"
    [pageSize]="pageSize"
    (pageChange)="onPageChange($event)"
  ></app-table>
</div>

<app-employee-details
  [view]="showEmployeeDetails"
  (close)="showEmployeeDetails = false"
  [employee]="selectedEmployeeRecord"
  [employeeDetails]="selectedEmployeeDetails"
></app-employee-details>

<app-appraisal
  [open]="showAppraisal"
  [employee]="selectedEmployee"
  (closed)="showAppraisal = false"
  (submitted)="handleAppraisal($event)"
></app-appraisal>

<app-confirm-prompt
  *ngIf="showModal"
  [title]="promptConfig?.title || ''"
  [text]="promptConfig?.text || ''"
  [imageUrl]="promptConfig?.imageUrl || null"
  [yesButtonText]="promptConfig?.yesButtonText || ''"
  [noButtonText]="promptConfig?.noButtonText || ''"
  (confirmed)="onModalConfirm($event)"
  (closed)="onModalClose()"
  [data]="selectedEmployee"
></app-confirm-prompt>

<app-success-modal
  *ngIf="successModal"
  [title]="'Operation Successful!'"
  [showOkButton]="false"
  [okButtonText]="'Click Ok'"
  [okButtonLink]="'/dashboard'"
  (closed)="successModal = false"
></app-success-modal>

<!-- Loading Overlay -->
<app-loading-overlay
  [isVisible]="isLoading"
  title="Loading employees..."
  message="Please wait while we fetch employee data."
></app-loading-overlay>
